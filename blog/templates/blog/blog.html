{% extends "blog/base.html" %}

{% block content %}

<script src="/static/mdeditor/js/jquery.min.js"></script>
<script src="/static/mdeditor/js/lib/marked.min.js"></script>
<script src="/static/mdeditor/js/lib/prettify.min.js"></script>
<script src="/static/mdeditor/js/lib/raphael.min.js"></script>
<script src="/static/mdeditor/js/lib/underscore.min.js"></script>
<script src="/static/mdeditor/js/lib/sequence-diagram.min.js"></script>
<script src="/static/mdeditor/js/lib/flowchart.min.js"></script>
<script src="/static/mdeditor/js/lib/jquery.flowchart.min.js"></script>
<script src="/static/mdeditor/js/editormd.min.js"></script>

<h1>{{ blog.name }}</h1>

<div class="pb-2 mb-2 border-bottom"></div>

<p>{{ blog.date_added }}</p>

<div id="doc-content">
    <textarea>{{ blog.text }}</textarea>
</div>

<footer class="footer">
    <div class="text-center">
    <a href="{% url 'blog:edit_blog' blog.id %}">
        <button type="button" class="btn btn-outline-primary translate-middle-x">编辑</button></a>
    <a href="{% url 'blog:blog' blog_next %}">
        <button type="button" class="btn btn-outline-secondary float-right">Next</button></a>
    <a href="{% url 'blog:blog' blog_last %}">
        <button type="button" class="btn btn-outline-secondary float-left">Last</button></a>
    </div>
</footer>

<br/>

<script type="text/javascript">
    var testEditor;
    $(function () {
        testEditor = editormd.markdownToHTML("doc-content", {   //注意：这里是上面DIV的id
            htmlDecode: "style,script,iframe",
            emoji: true,
            taskList: true,
            tex: true, // 默认不解析
            flowChart: true, // 默认不解析
            sequenceDiagram: true, // 默认不解析
            codeFold: true,
    });});
 </script>

{% endblock %}